(this["webpackJsonpfast-api-tests"]=this["webpackJsonpfast-api-tests"]||[]).push([[0],{56:function(e,t,n){"use strict";n.r(t);var s=n(2),a=n(26),i=n(9),o=n(15),r=n(21),c=n(19),u=n(61);var d=[{testName:"Unregistered user",email:"total_garbage".concat(Math.floor(1e4*Math.random()),"@mailinator.com"),password:"Password123!",testConditions:[function(e){return"NotAuthorizedException"===e.authenticationResponse.code},function(e){return"unauthorized"===e.message}]},{testName:"Unconfirmed user",email:"i_am_unconfirmed@mailinator.com",password:"Password123!",testConditions:[function(e){return"UserNotConfirmedException"===e.authenticationResponse.code},function(e){return"unconfirmed"===e.message}]},{testName:"Unpaid user",email:"registered_and_unpaid@mailinator.com",password:"Password123!",testConditions:[function(e){return!1===e.subscriptionResponse.data.status},function(e){return"registered_and_unpaid@mailinator.com"===e.authenticationResponse.email},function(e){return"Free"===e.authenticationResponse.given_name},function(e){return"Loader"===e.authenticationResponse.family_name},function(e){return"unpaid"===e.message}]},{testName:"Premium user",email:"has_premium_subscription@mailinator.com",password:"Password123!",testConditions:[function(e){return!0===e.subscriptionResponse.data.status},function(e){return"has_premium_subscription@mailinator.com"===e.authenticationResponse.email},function(e){return"High"===e.authenticationResponse.given_name},function(e){return"Roller"===e.authenticationResponse.family_name},function(e){return"paid"===e.message}]}],l=n(30),p=n.n(l),m=(n(52),n(31)),b=n(22),j=n(62),f=function(e){return e.renderCondition?e.children:null},h=n(1);function g(e){var t=Object(s.useRef)(),n=Object(s.useState)(!1),a=Object(i.a)(n,2),d=a[0],l=a[1],g=Object(s.useState)([]),O=Object(i.a)(g,2),x=O[0],v=O[1],R=Object(s.useState)({message:"Test Pending",authenticationResponse:{},subscriptionResponse:{}}),w=Object(i.a)(R,2),C=w[0],y=w[1],N=function(e){var t=Object(s.useState)(e.email),n=Object(i.a)(t,2),a=n[0],d=n[1],l=Object(s.useState)(e.password),p=Object(i.a)(l,2),m=p[0];function b(){return b=Object(r.a)(Object(o.a)().mark((function t(){var n,s,i,d;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n={UserPoolId:"us-east-1_jt5NMhoTk",ClientId:"7mtgtq8v0drgkg2gg869m2capq"},s=new c.c(n),i=new c.b({Username:a,Pool:s}),d=new c.a({Username:a,Password:m}),i.authenticateUser(d,{onSuccess:function(){var t=Object(r.a)(Object(o.a)().mark((function t(n){var s,a,i,r,c,d;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=null===n||void 0===n||null===(s=n.idToken)||void 0===s?void 0:s.payload,r=null===n||void 0===n||null===(a=n.idToken)||void 0===a?void 0:a.payload["cognito:username"],c="https://1gjpy63ru4.execute-api.us-east-1.amazonaws.com/test/customers/".concat(r,"/subscription"),t.next=5,u.a.get(c);case 5:!0===(d=t.sent).data.status?e.onComplete({message:"paid",authenticationResponse:i,subscriptionResponse:d}):e.onComplete({message:"unpaid",authenticationResponse:i,subscriptionResponse:d});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onFailure:function(t){var n="";n="UserNotConfirmedException"===t.code?"unconfirmed":"NotAuthorizedException"===t.code?"unauthorized":t.code,e.onComplete({message:n,authenticationResponse:t,subscriptionResponse:{}})}});case 5:case"end":return t.stop()}}),t)}))),b.apply(this,arguments)}return{validate:function(){return b.apply(this,arguments)},setEmail:d,setPassword:p[1]}}({email:e.email,password:e.password,onComplete:function(t){y(t);var n=e.testConditions.map((function(e){return e(t)}));v(n)}});function _(){console.log("Running test: ",e.testName),v([]),y({message:"Test Pending",authenticationResponse:{},subscriptionResponse:{}}),N.validate(),t.current=!0}function k(){return e.testConditions.map((function(e,t){var n="";n=0===x.length?"\ud83d\udd5a ":!0===x[t]?"\u2705 ":"\u274c ";var s=String(e);return s=(s=(s=(s=(s=(s=(s=(s=(s=s.replace("function(e)","")).replace("return","")).replace("e.","hookResponse.")).replace("{","")).replace("}","")).replace("==="," === ")).replace("!=="," !== ")).replace("!1","false")).replace("!0","true"),Object(h.jsxs)("p",{children:[n,s]},s)}))}return Object(s.useEffect)((function(){!0!==t.current&&_()}),[]),Object(h.jsxs)(j.a,{style:{marginTop:"1rem",paddingBottom:"-1rem"},children:[Object(h.jsx)(b.a,{style:{padding:"1rem",margin:"0.5rem",alignItems:"left",textAlign:"left"},variant:"light",onClick:function(){l(!d)},children:Object(h.jsxs)(j.a.Title,{children:[e.testName,":"," ",Object(h.jsx)(m.a,{bg:x.includes(!1)?"danger":x.includes(!0)?"success":"secondary",children:C.message})]})}),Object(h.jsx)(f,{renderCondition:d,children:Object(h.jsxs)(j.a.Body,{children:[Object(h.jsx)(j.a.Subtitle,{className:"mb-2 text-muted",children:"Test Conditions"}),Object(h.jsx)(k,{}),Object(h.jsx)(j.a.Subtitle,{className:"mb-2 text-muted",style:{marginTop:"1rem"},children:"Response Object"}),Object(h.jsx)(p.a,{name:"hookResponse",collapsed:1,src:C}),Object(h.jsx)(b.a,{style:{marginTop:"1rem",width:"100%"},variant:null===x?"outline-primary":"primary",onClick:_,disabled:null===x,children:null===x?"Test Pending":"Run Test Again"})]})})]})}var O=n(59),x=n(60);n(55);function v(){function e(){return d.map((function(e){return Object(h.jsx)(g,{email:e.email,password:e.password,testName:e.testName,testCallback:e.testFunction,testConditions:e.testConditions},e.testName)}))}return Object(h.jsx)(O.a,{className:"App",style:{margin:"1rem"},children:Object(h.jsxs)(x.a,{children:[Object(h.jsx)("h1",{children:"Login API Status"}),Object(h.jsx)(e,{})]})})}var R=document.getElementById("root");Object(a.createRoot)(R).render(Object(h.jsx)(s.StrictMode,{children:Object(h.jsx)(v,{})}))}},[[56,1,2]]]);
//# sourceMappingURL=main.3d3a631f.chunk.js.map